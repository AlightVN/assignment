<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:15,&quot;tests&quot;:13,&quot;passes&quot;:13,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2023-06-16T07:59:01.470Z&quot;,&quot;end&quot;:&quot;2023-06-16T07:59:01.614Z&quot;,&quot;duration&quot;:144,&quot;testsRegistered&quot;:13,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;7a1af75e-df28-455a-bdca-97a86ef3de99&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e979c2a3-374c-4378-8955-b63319988139&quot;,&quot;title&quot;:&quot;User&quot;,&quot;fullFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\test\\1_auth.test.js&quot;,&quot;file&quot;:&quot;\\test\\1_auth.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;5355a03b-cbbe-44b2-83cd-f3ba95ab0d57&quot;,&quot;title&quot;:&quot;#register&quot;,&quot;fullFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\test\\1_auth.test.js&quot;,&quot;file&quot;:&quot;\\test\\1_auth.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;#register\&quot;&quot;,&quot;fullTitle&quot;:&quot;User #register \&quot;before each\&quot; hook in \&quot;#register\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore(); // Khôi phục tất cả các stub trước mỗi bài kiểm tra&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0d8c3d85-a57d-4180-ab6e-7c9be4a2aa74&quot;,&quot;parentUUID&quot;:&quot;5355a03b-cbbe-44b2-83cd-f3ba95ab0d57&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new user&quot;,&quot;fullTitle&quot;:&quot;User #register should create a new user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const fakeUsername = &#x27;john.doe&#x27;;\nconst fakePassword = &#x27;password123&#x27;;\nconst fakeEncryptedPassword = &#x27;encrypted-password&#x27;;\nconst fakeUserData = { id: 1, username: fakeUsername };\nconst bcryptStub = sinon.stub(bcrypt, &#x27;hashSync&#x27;).returns(fakeEncryptedPassword);\nconst createStub = sinon.stub(TestUser, &#x27;create&#x27;).resolves(fakeUserData);\nconst result = await TestUser.register(fakeUsername, fakePassword);\nexpect(result).to.deep.equal(fakeUserData);\nexpect(bcryptStub.calledOnceWith(fakePassword, sinon.match.number)).to.be.true;\nexpect(createStub.calledOnceWith({ userName: fakeUsername, password: fakeEncryptedPassword })).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c554f928-fd58-4221-a466-b45b616c72ec&quot;,&quot;parentUUID&quot;:&quot;5355a03b-cbbe-44b2-83cd-f3ba95ab0d57&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c554f928-fd58-4221-a466-b45b616c72ec&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;041062e7-9e32-4874-b574-599df6a8f8e3&quot;,&quot;title&quot;:&quot;#login&quot;,&quot;fullFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\test\\1_auth.test.js&quot;,&quot;file&quot;:&quot;\\test\\1_auth.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;#login\&quot;&quot;,&quot;fullTitle&quot;:&quot;User #login \&quot;before each\&quot; hook in \&quot;#login\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore(); // Khôi phục tất cả các stub trước mỗi bài kiểm tra&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b0f73084-df01-4b6e-8a15-f975d737b359&quot;,&quot;parentUUID&quot;:&quot;041062e7-9e32-4874-b574-599df6a8f8e3&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should log in with valid credentials&quot;,&quot;fullTitle&quot;:&quot;User #login should log in with valid credentials&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const fakeUsername = &#x27;john.doe&#x27;;\nconst fakePassword = &#x27;password123&#x27;;\nconst fakeEncryptedPassword = &#x27;encrypted-password&#x27;;\nconst fakeUserData = { id: 1, username: fakeUsername, password: fakeEncryptedPassword };\nconst bcryptStub = sinon.stub(bcrypt, &#x27;compare&#x27;).resolves(true);\nconst findOneStub = sinon.stub(TestUser, &#x27;findOne&#x27;).resolves(fakeUserData);\nconst result = await TestUser.login(fakeUsername, fakePassword);\nexpect(result).to.deep.equal(fakeUserData);\nexpect(bcryptStub.calledOnceWith(fakePassword, fakeEncryptedPassword)).to.be.true;\nexpect(findOneStub.calledOnceWith({ where: { userName: fakeUsername } })).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d539ee42-3592-4a05-9de1-78222788f40f&quot;,&quot;parentUUID&quot;:&quot;041062e7-9e32-4874-b574-599df6a8f8e3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw an error with invalid credentials&quot;,&quot;fullTitle&quot;:&quot;User #login should throw an error with invalid credentials&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const fakeUsername = &#x27;john.doe&#x27;;\nconst fakePassword = &#x27;password123&#x27;;\nconst bcryptStub = sinon.stub(bcrypt, &#x27;compare&#x27;).resolves(false);\nconst findOneStub = sinon.stub(TestUser, &#x27;findOne&#x27;).resolves(null);\ntry {\n  await TestUser.login(fakeUsername, fakePassword);\n  expect.fail(&#x27;Expected an error to be thrown&#x27;);\n} catch (error) {\n  expect(error.message).to.equal(&#x27;Invalid credentials&#x27;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8940d508-6611-4c43-b7eb-fdc82c272afa&quot;,&quot;parentUUID&quot;:&quot;041062e7-9e32-4874-b574-599df6a8f8e3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d539ee42-3592-4a05-9de1-78222788f40f&quot;,&quot;8940d508-6611-4c43-b7eb-fdc82c272afa&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;7ae7565c-8d1c-4ca4-81d2-47937791a368&quot;,&quot;title&quot;:&quot;Employee Test Model&quot;,&quot;fullFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\test\\2_employee.test.js&quot;,&quot;file&quot;:&quot;\\test\\2_employee.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3fca8e24-16d9-4202-9a1b-e990acbbf8ed&quot;,&quot;title&quot;:&quot;createEmployee&quot;,&quot;fullFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\test\\2_employee.test.js&quot;,&quot;file&quot;:&quot;\\test\\2_employee.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new employee&quot;,&quot;fullTitle&quot;:&quot;Employee Test Model createEmployee should create a new employee&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newEmployee = {\n  firstName: &#x27;John&#x27;,\n  lastName: &#x27;Doe&#x27;,\n  extension: &#x27;1234&#x27;,\n  email: &#x27;johndoe@example.com&#x27;,\n  officeCode: 1,\n  reportsTo: null,\n  jobTitle: &#x27;Manager&#x27;,\n  roleId: 1,\n};\nconst createStub = sinon.stub(EmployeeTest, &#x27;createEmployee&#x27;).resolves(newEmployee);\nconst createdEmployee = await EmployeeTest.createEmployee(newEmployee);\nexpect(createdEmployee).to.deep.equal(newEmployee);\ncreateStub.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;845f65d3-0b1f-4180-b2e9-8b91f60180f0&quot;,&quot;parentUUID&quot;:&quot;3fca8e24-16d9-4202-9a1b-e990acbbf8ed&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;845f65d3-0b1f-4180-b2e9-8b91f60180f0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;5f687664-297a-4117-8941-599f99df1a56&quot;,&quot;title&quot;:&quot;getAll&quot;,&quot;fullFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\test\\2_employee.test.js&quot;,&quot;file&quot;:&quot;\\test\\2_employee.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a list of employees&quot;,&quot;fullTitle&quot;:&quot;Employee Test Model getAll should return a list of employees&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const employees = [\n  {\n    employeeNumber: 1,\n    firstName: &#x27;John&#x27;,\n    lastName: &#x27;Doe&#x27;,\n    extension: &#x27;1234&#x27;,\n    email: &#x27;johndoe@example.com&#x27;,\n    officeCode: 1,\n    reportsTo: null,\n    jobTitle: &#x27;Manager&#x27;,\n    roleId: 1,\n  },\n];\nconst findAllStub = sinon.stub(EmployeeTest, &#x27;getAll&#x27;).resolves(employees);\nconst allEmployees = await EmployeeTest.getAll();\nexpect(allEmployees).to.deep.equal(employees);\nfindAllStub.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;70bb1e1f-991f-46c8-a6b4-1b25c6ae66e5&quot;,&quot;parentUUID&quot;:&quot;5f687664-297a-4117-8941-599f99df1a56&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;70bb1e1f-991f-46c8-a6b4-1b25c6ae66e5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e1edbac4-b5fc-40e8-b5af-192b5d69b41e&quot;,&quot;title&quot;:&quot;getById&quot;,&quot;fullFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\test\\2_employee.test.js&quot;,&quot;file&quot;:&quot;\\test\\2_employee.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an employee by ID&quot;,&quot;fullTitle&quot;:&quot;Employee Test Model getById should return an employee by ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const employee = {\n  employeeNumber: 1,\n  firstName: &#x27;John&#x27;,\n  lastName: &#x27;Doe&#x27;,\n  extension: &#x27;1234&#x27;,\n  email: &#x27;johndoe@example.com&#x27;,\n  officeCode: 1,\n  reportsTo: null,\n  jobTitle: &#x27;Manager&#x27;,\n  roleId: 1,\n};\nconst findByPkStub = sinon.stub(EmployeeTest, &#x27;getById&#x27;).resolves(employee);\nconst foundEmployee = await EmployeeTest.getById(employee.employeeNumber);\nexpect(foundEmployee).to.deep.equal(employee);\nfindByPkStub.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a0b05545-7456-42bb-81e6-d97625973ab3&quot;,&quot;parentUUID&quot;:&quot;e1edbac4-b5fc-40e8-b5af-192b5d69b41e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a0b05545-7456-42bb-81e6-d97625973ab3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;779b66f0-4a2a-4998-a01b-72d442fb37a3&quot;,&quot;title&quot;:&quot;updateById&quot;,&quot;fullFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\test\\2_employee.test.js&quot;,&quot;file&quot;:&quot;\\test\\2_employee.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update an employee&quot;,&quot;fullTitle&quot;:&quot;Employee Test Model updateById should update an employee&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updatedEmployee = {\n  employeeNumber: 1,\n  firstName: &#x27;John&#x27;,\n  lastName: &#x27;Doe&#x27;,\n  extension: &#x27;1234&#x27;,\n  email: &#x27;johndoe@example.com&#x27;,\n  officeCode: 1,\n  reportsTo: null,\n  jobTitle: &#x27;Manager&#x27;,\n  roleId: 1,\n};\nconst saveStub = sinon.stub(EmployeeTest, &#x27;updateById&#x27;).resolves(updatedEmployee);\nconst updated = await EmployeeTest.updateById(updatedEmployee.employeeNumber, updatedEmployee);\nexpect(updated).to.deep.equal(updatedEmployee);\nsaveStub.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d5a47f0d-a543-42c3-bebf-690249bdf068&quot;,&quot;parentUUID&quot;:&quot;779b66f0-4a2a-4998-a01b-72d442fb37a3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d5a47f0d-a543-42c3-bebf-690249bdf068&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;cedc86a9-f64f-4210-a3af-a1f6d9bca5de&quot;,&quot;title&quot;:&quot;deleteById&quot;,&quot;fullFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\test\\2_employee.test.js&quot;,&quot;file&quot;:&quot;\\test\\2_employee.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an employee&quot;,&quot;fullTitle&quot;:&quot;Employee Test Model deleteById should delete an employee&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const destroyStub = sinon.stub(EmployeeTest, &#x27;deleteById&#x27;).resolves(true);\nconst result = await EmployeeTest.deleteById(1);\nexpect(result).to.be.true;\ndestroyStub.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c141827c-7879-43a4-a6b4-44be9e6cb891&quot;,&quot;parentUUID&quot;:&quot;cedc86a9-f64f-4210-a3af-a1f6d9bca5de&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c141827c-7879-43a4-a6b4-44be9e6cb891&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;463b040b-c57e-4660-8a67-3b8f98a20977&quot;,&quot;title&quot;:&quot;Customer Test Model&quot;,&quot;fullFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\test\\3_customer.test.js&quot;,&quot;file&quot;:&quot;\\test\\3_customer.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;708700ef-92ad-49ee-b381-ad29ccdb247b&quot;,&quot;title&quot;:&quot;createCustomer&quot;,&quot;fullFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\test\\3_customer.test.js&quot;,&quot;file&quot;:&quot;\\test\\3_customer.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new customer&quot;,&quot;fullTitle&quot;:&quot;Customer Test Model createCustomer should create a new customer&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newCustomer = {\n  customerName: \&quot;New Customer\&quot;,\n  contactLastName: \&quot;Doe\&quot;,\n  contactFirstName: \&quot;John\&quot;,\n  phone: \&quot;1234567890\&quot;,\n  addressLine1: \&quot;123 Main Street\&quot;,\n  addressLine2: null,\n  city: \&quot;New York\&quot;,\n  state: \&quot;NY\&quot;,\n  postalCode: \&quot;10001\&quot;,\n  country: \&quot;USA\&quot;,\n  salesRepEmployeeNumber: 1,\n  creditLimit: 1000,\n};\nconst createStub = sinon.stub(CustomerTest, &#x27;createCustomer&#x27;).resolves(newCustomer);\nconst createdCustomer = await CustomerTest.createCustomer(newCustomer);\nexpect(createdCustomer).to.deep.equal(newCustomer);\ncreateStub.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5173a546-c602-4cb5-aeda-3869446674a0&quot;,&quot;parentUUID&quot;:&quot;708700ef-92ad-49ee-b381-ad29ccdb247b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5173a546-c602-4cb5-aeda-3869446674a0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;4f65a59b-ac45-479f-beeb-bda98966bded&quot;,&quot;title&quot;:&quot;getAll&quot;,&quot;fullFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\test\\3_customer.test.js&quot;,&quot;file&quot;:&quot;\\test\\3_customer.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a list of customers&quot;,&quot;fullTitle&quot;:&quot;Customer Test Model getAll should return a list of customers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const customers = [\n  {\n    customerNumber: 1,\n    customerName: \&quot;New Customer\&quot;,\n    contactLastName: \&quot;Doe\&quot;,\n    contactFirstName: \&quot;John\&quot;,\n    phone: \&quot;1234567890\&quot;,\n    addressLine1: \&quot;123 Main Street\&quot;,\n    addressLine2: null,\n    city: \&quot;New York\&quot;,\n    state: \&quot;NY\&quot;,\n    postalCode: \&quot;10001\&quot;,\n    country: \&quot;USA\&quot;,\n    salesRepEmployeeNumber: 1,\n    creditLimit: 1000,\n  },\n];\nconst findAllStub = sinon.stub(CustomerTest, &#x27;getAll&#x27;).resolves(customers);\nconst allCustomers = await CustomerTest.getAll();\nexpect(allCustomers).to.deep.equal(customers);\nfindAllStub.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8be35ae6-4eb2-4848-af43-45a2684ce56a&quot;,&quot;parentUUID&quot;:&quot;4f65a59b-ac45-479f-beeb-bda98966bded&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8be35ae6-4eb2-4848-af43-45a2684ce56a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;439a9756-73aa-48dd-bed5-afcccbeef20b&quot;,&quot;title&quot;:&quot;getById&quot;,&quot;fullFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\test\\3_customer.test.js&quot;,&quot;file&quot;:&quot;\\test\\3_customer.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a customer by ID&quot;,&quot;fullTitle&quot;:&quot;Customer Test Model getById should return a customer by ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const customer = {\n  customerNumber: 1,\n  customerName: \&quot;New Customer\&quot;,\n  contactLastName: \&quot;Doe\&quot;,\n  contactFirstName: \&quot;John\&quot;,\n  phone: \&quot;1234567890\&quot;,\n  addressLine1: \&quot;123 Main Street\&quot;,\n  addressLine2: null,\n  city: \&quot;New York\&quot;,\n  state: \&quot;NY\&quot;,\n  postalCode: \&quot;10001\&quot;,\n  country: \&quot;USA\&quot;,\n  salesRepEmployeeNumber: 1,\n  creditLimit: 1000,\n};\nconst findByPkStub = sinon.stub(CustomerTest, &#x27;getById&#x27;).resolves(customer);\nconst foundCustomer = await CustomerTest.getById(customer.customerNumber);\nexpect(foundCustomer).to.deep.equal(customer);\nfindByPkStub.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;835d6d77-9963-4770-b396-5ad05383f508&quot;,&quot;parentUUID&quot;:&quot;439a9756-73aa-48dd-bed5-afcccbeef20b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;835d6d77-9963-4770-b396-5ad05383f508&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ede35445-7edb-401a-9665-97ddf0387a5a&quot;,&quot;title&quot;:&quot;updateById&quot;,&quot;fullFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\test\\3_customer.test.js&quot;,&quot;file&quot;:&quot;\\test\\3_customer.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update a customer&quot;,&quot;fullTitle&quot;:&quot;Customer Test Model updateById should update a customer&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updatedCustomer = {\n  customerNumber: 1,\n  customerName: \&quot;Updated Customer\&quot;,\n  contactLastName: \&quot;Smith\&quot;,\n  contactFirstName: \&quot;Jane\&quot;,\n  phone: \&quot;0987654321\&quot;,\n  addressLine1: \&quot;456 Main Street\&quot;,\n  city: \&quot;New York\&quot;,\n  country: \&quot;USA\&quot;\n};\nconst saveStub = sinon.stub(CustomerTest, &#x27;updateById&#x27;).resolves(updatedCustomer);\nconst updated = await CustomerTest.updateById(updatedCustomer.customerNumber, updatedCustomer);\nexpect(updated).to.deep.equal(updatedCustomer);\nsaveStub.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2ad12179-f9f8-4349-bb57-8dee28e84372&quot;,&quot;parentUUID&quot;:&quot;ede35445-7edb-401a-9665-97ddf0387a5a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2ad12179-f9f8-4349-bb57-8dee28e84372&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;646e3e7e-7f20-4c4e-8122-60b5fc0753d2&quot;,&quot;title&quot;:&quot;deleteById&quot;,&quot;fullFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\test\\3_customer.test.js&quot;,&quot;file&quot;:&quot;\\test\\3_customer.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete a customer&quot;,&quot;fullTitle&quot;:&quot;Customer Test Model deleteById should delete a customer&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const destroyStub = sinon.stub(CustomerTest, &#x27;deleteById&#x27;).resolves(true);\nconst result = await CustomerTest.deleteById(1);\nexpect(result).to.be.true;\ndestroyStub.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c6df8e3e-928d-424c-bba7-743561ce734b&quot;,&quot;parentUUID&quot;:&quot;646e3e7e-7f20-4c4e-8122-60b5fc0753d2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c6df8e3e-928d-424c-bba7-743561ce734b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.2.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;NodeJs_Training&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report\\assets&quot;,&quot;jsonFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\mochawesome-report\\mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\mochawesome-report\\mochawesome.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>