<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:15,&quot;tests&quot;:13,&quot;passes&quot;:13,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2023-06-16T08:01:54.158Z&quot;,&quot;end&quot;:&quot;2023-06-16T08:01:54.294Z&quot;,&quot;duration&quot;:136,&quot;testsRegistered&quot;:13,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;ac804e15-567a-4896-a096-c761945c4c3e&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;976f0623-14d5-44e0-98a1-34e8c71f6fd5&quot;,&quot;title&quot;:&quot;User&quot;,&quot;fullFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\test\\1_auth.test.js&quot;,&quot;file&quot;:&quot;\\test\\1_auth.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;6b6d25f1-f26f-44c8-8c38-17d869ceb7f4&quot;,&quot;title&quot;:&quot;#register&quot;,&quot;fullFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\test\\1_auth.test.js&quot;,&quot;file&quot;:&quot;\\test\\1_auth.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;#register\&quot;&quot;,&quot;fullTitle&quot;:&quot;User #register \&quot;before each\&quot; hook in \&quot;#register\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore(); // Khôi phục tất cả các stub trước mỗi bài kiểm tra&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7b3b0ffb-2f74-4192-9154-21c9cc9b58a1&quot;,&quot;parentUUID&quot;:&quot;6b6d25f1-f26f-44c8-8c38-17d869ceb7f4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new user&quot;,&quot;fullTitle&quot;:&quot;User #register should create a new user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const fakeUsername = &#x27;john.doe&#x27;;\nconst fakePassword = &#x27;password123&#x27;;\nconst fakeEncryptedPassword = &#x27;encrypted-password&#x27;;\nconst fakeUserData = { id: 1, username: fakeUsername };\nconst bcryptStub = sinon.stub(bcrypt, &#x27;hashSync&#x27;).returns(fakeEncryptedPassword);\nconst createStub = sinon.stub(TestUser, &#x27;create&#x27;).resolves(fakeUserData);\nconst result = await TestUser.register(fakeUsername, fakePassword);\nexpect(result).to.deep.equal(fakeUserData);\nexpect(bcryptStub.calledOnceWith(fakePassword, sinon.match.number)).to.be.true;\nexpect(createStub.calledOnceWith({ userName: fakeUsername, password: fakeEncryptedPassword })).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;31793bd8-728b-4fc4-a012-33acb4e0158f&quot;,&quot;parentUUID&quot;:&quot;6b6d25f1-f26f-44c8-8c38-17d869ceb7f4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;31793bd8-728b-4fc4-a012-33acb4e0158f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;fc32bcf8-bf7e-4d9d-951f-9ee229d9a0be&quot;,&quot;title&quot;:&quot;#login&quot;,&quot;fullFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\test\\1_auth.test.js&quot;,&quot;file&quot;:&quot;\\test\\1_auth.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;#login\&quot;&quot;,&quot;fullTitle&quot;:&quot;User #login \&quot;before each\&quot; hook in \&quot;#login\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore(); // Khôi phục tất cả các stub trước mỗi bài kiểm tra&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;923a8ba9-b434-421b-81db-93535b5b09d6&quot;,&quot;parentUUID&quot;:&quot;fc32bcf8-bf7e-4d9d-951f-9ee229d9a0be&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should log in with valid credentials&quot;,&quot;fullTitle&quot;:&quot;User #login should log in with valid credentials&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const fakeUsername = &#x27;john.doe&#x27;;\nconst fakePassword = &#x27;password123&#x27;;\nconst fakeEncryptedPassword = &#x27;encrypted-password&#x27;;\nconst fakeUserData = { id: 1, username: fakeUsername, password: fakeEncryptedPassword };\nconst bcryptStub = sinon.stub(bcrypt, &#x27;compare&#x27;).resolves(true);\nconst findOneStub = sinon.stub(TestUser, &#x27;findOne&#x27;).resolves(fakeUserData);\nconst result = await TestUser.login(fakeUsername, fakePassword);\nexpect(result).to.deep.equal(fakeUserData);\nexpect(bcryptStub.calledOnceWith(fakePassword, fakeEncryptedPassword)).to.be.true;\nexpect(findOneStub.calledOnceWith({ where: { userName: fakeUsername } })).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3094eb4a-a74e-40ea-bc2b-d069695adf30&quot;,&quot;parentUUID&quot;:&quot;fc32bcf8-bf7e-4d9d-951f-9ee229d9a0be&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw an error with invalid credentials&quot;,&quot;fullTitle&quot;:&quot;User #login should throw an error with invalid credentials&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const fakeUsername = &#x27;john.doe&#x27;;\nconst fakePassword = &#x27;password123&#x27;;\nconst bcryptStub = sinon.stub(bcrypt, &#x27;compare&#x27;).resolves(false);\nconst findOneStub = sinon.stub(TestUser, &#x27;findOne&#x27;).resolves(null);\ntry {\n  await TestUser.login(fakeUsername, fakePassword);\n  expect.fail(&#x27;Expected an error to be thrown&#x27;);\n} catch (error) {\n  expect(error.message).to.equal(&#x27;Invalid credentials&#x27;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8ef5eedb-4e78-46d7-85d8-f1ef03030ad4&quot;,&quot;parentUUID&quot;:&quot;fc32bcf8-bf7e-4d9d-951f-9ee229d9a0be&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3094eb4a-a74e-40ea-bc2b-d069695adf30&quot;,&quot;8ef5eedb-4e78-46d7-85d8-f1ef03030ad4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;521dde3c-2e9a-4dac-99a1-0d39228b607f&quot;,&quot;title&quot;:&quot;Employee Test Model&quot;,&quot;fullFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\test\\2_employee.test.js&quot;,&quot;file&quot;:&quot;\\test\\2_employee.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;f8eadba9-1c2f-4845-a848-3222626eea61&quot;,&quot;title&quot;:&quot;createEmployee&quot;,&quot;fullFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\test\\2_employee.test.js&quot;,&quot;file&quot;:&quot;\\test\\2_employee.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new employee&quot;,&quot;fullTitle&quot;:&quot;Employee Test Model createEmployee should create a new employee&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newEmployee = {\n  firstName: &#x27;John&#x27;,\n  lastName: &#x27;Doe&#x27;,\n  extension: &#x27;1234&#x27;,\n  email: &#x27;johndoe@example.com&#x27;,\n  officeCode: 1,\n  reportsTo: null,\n  jobTitle: &#x27;Manager&#x27;,\n  roleId: 1,\n};\nconst createStub = sinon.stub(EmployeeTest, &#x27;createEmployee&#x27;).resolves(newEmployee);\nconst createdEmployee = await EmployeeTest.createEmployee(newEmployee);\nexpect(createdEmployee).to.deep.equal(newEmployee);\ncreateStub.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d903273c-b973-43cf-be0a-0f8051e151fd&quot;,&quot;parentUUID&quot;:&quot;f8eadba9-1c2f-4845-a848-3222626eea61&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d903273c-b973-43cf-be0a-0f8051e151fd&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6d7e65cc-3948-4e99-b0fb-136995712d08&quot;,&quot;title&quot;:&quot;getAll&quot;,&quot;fullFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\test\\2_employee.test.js&quot;,&quot;file&quot;:&quot;\\test\\2_employee.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a list of employees&quot;,&quot;fullTitle&quot;:&quot;Employee Test Model getAll should return a list of employees&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const employees = [\n  {\n    employeeNumber: 1,\n    firstName: &#x27;John&#x27;,\n    lastName: &#x27;Doe&#x27;,\n    extension: &#x27;1234&#x27;,\n    email: &#x27;johndoe@example.com&#x27;,\n    officeCode: 1,\n    reportsTo: null,\n    jobTitle: &#x27;Manager&#x27;,\n    roleId: 1,\n  },\n];\nconst findAllStub = sinon.stub(EmployeeTest, &#x27;getAll&#x27;).resolves(employees);\nconst allEmployees = await EmployeeTest.getAll();\nexpect(allEmployees).to.deep.equal(employees);\nfindAllStub.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a8066448-82ba-4eda-be0e-4b8efad93935&quot;,&quot;parentUUID&quot;:&quot;6d7e65cc-3948-4e99-b0fb-136995712d08&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a8066448-82ba-4eda-be0e-4b8efad93935&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;cf166ccf-ebd5-4172-a40d-51617c43a9ed&quot;,&quot;title&quot;:&quot;getById&quot;,&quot;fullFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\test\\2_employee.test.js&quot;,&quot;file&quot;:&quot;\\test\\2_employee.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an employee by ID&quot;,&quot;fullTitle&quot;:&quot;Employee Test Model getById should return an employee by ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const employee = {\n  employeeNumber: 1,\n  firstName: &#x27;John&#x27;,\n  lastName: &#x27;Doe&#x27;,\n  extension: &#x27;1234&#x27;,\n  email: &#x27;johndoe@example.com&#x27;,\n  officeCode: 1,\n  reportsTo: null,\n  jobTitle: &#x27;Manager&#x27;,\n  roleId: 1,\n};\nconst findByPkStub = sinon.stub(EmployeeTest, &#x27;getById&#x27;).resolves(employee);\nconst foundEmployee = await EmployeeTest.getById(employee.employeeNumber);\nexpect(foundEmployee).to.deep.equal(employee);\nfindByPkStub.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f37102f8-0893-41af-809d-82217c71778b&quot;,&quot;parentUUID&quot;:&quot;cf166ccf-ebd5-4172-a40d-51617c43a9ed&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f37102f8-0893-41af-809d-82217c71778b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;dde66c48-8b7e-40b3-8b4b-8148736ba6eb&quot;,&quot;title&quot;:&quot;updateById&quot;,&quot;fullFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\test\\2_employee.test.js&quot;,&quot;file&quot;:&quot;\\test\\2_employee.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update an employee&quot;,&quot;fullTitle&quot;:&quot;Employee Test Model updateById should update an employee&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updatedEmployee = {\n  employeeNumber: 1,\n  firstName: &#x27;John&#x27;,\n  lastName: &#x27;Doe&#x27;,\n  extension: &#x27;1234&#x27;,\n  email: &#x27;johndoe@example.com&#x27;,\n  officeCode: 1,\n  reportsTo: null,\n  jobTitle: &#x27;Manager&#x27;,\n  roleId: 1,\n};\nconst saveStub = sinon.stub(EmployeeTest, &#x27;updateById&#x27;).resolves(updatedEmployee);\nconst updated = await EmployeeTest.updateById(updatedEmployee.employeeNumber, updatedEmployee);\nexpect(updated).to.deep.equal(updatedEmployee);\nsaveStub.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ca678238-2ff3-422f-b59c-22e37459a7ae&quot;,&quot;parentUUID&quot;:&quot;dde66c48-8b7e-40b3-8b4b-8148736ba6eb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ca678238-2ff3-422f-b59c-22e37459a7ae&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;bfed9627-bfb5-4358-ab93-1cb810b4a610&quot;,&quot;title&quot;:&quot;deleteById&quot;,&quot;fullFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\test\\2_employee.test.js&quot;,&quot;file&quot;:&quot;\\test\\2_employee.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an employee&quot;,&quot;fullTitle&quot;:&quot;Employee Test Model deleteById should delete an employee&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const destroyStub = sinon.stub(EmployeeTest, &#x27;deleteById&#x27;).resolves(true);\nconst result = await EmployeeTest.deleteById(1);\nexpect(result).to.be.true;\ndestroyStub.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1158132e-49d9-4db5-b7fd-1868f8c6877e&quot;,&quot;parentUUID&quot;:&quot;bfed9627-bfb5-4358-ab93-1cb810b4a610&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1158132e-49d9-4db5-b7fd-1868f8c6877e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b37c627a-8219-4a8e-9bde-431495e9dd96&quot;,&quot;title&quot;:&quot;Customer Test Model&quot;,&quot;fullFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\test\\3_customer.test.js&quot;,&quot;file&quot;:&quot;\\test\\3_customer.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;58354218-3294-46dc-b1b4-c8d5535f7dce&quot;,&quot;title&quot;:&quot;createCustomer&quot;,&quot;fullFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\test\\3_customer.test.js&quot;,&quot;file&quot;:&quot;\\test\\3_customer.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new customer&quot;,&quot;fullTitle&quot;:&quot;Customer Test Model createCustomer should create a new customer&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newCustomer = {\n  customerName: \&quot;New Customer\&quot;,\n  contactLastName: \&quot;Doe\&quot;,\n  contactFirstName: \&quot;John\&quot;,\n  phone: \&quot;1234567890\&quot;,\n  addressLine1: \&quot;123 Main Street\&quot;,\n  addressLine2: null,\n  city: \&quot;New York\&quot;,\n  state: \&quot;NY\&quot;,\n  postalCode: \&quot;10001\&quot;,\n  country: \&quot;USA\&quot;,\n  salesRepEmployeeNumber: 1,\n  creditLimit: 1000,\n};\nconst createStub = sinon.stub(CustomerTest, &#x27;createCustomer&#x27;).resolves(newCustomer);\nconst createdCustomer = await CustomerTest.createCustomer(newCustomer);\nexpect(createdCustomer).to.deep.equal(newCustomer);\ncreateStub.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4e2632d0-f189-4ad7-9059-4859ee865aac&quot;,&quot;parentUUID&quot;:&quot;58354218-3294-46dc-b1b4-c8d5535f7dce&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4e2632d0-f189-4ad7-9059-4859ee865aac&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8ed28f53-64fb-476d-a01f-c4570159affb&quot;,&quot;title&quot;:&quot;getAll&quot;,&quot;fullFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\test\\3_customer.test.js&quot;,&quot;file&quot;:&quot;\\test\\3_customer.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a list of customers&quot;,&quot;fullTitle&quot;:&quot;Customer Test Model getAll should return a list of customers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const customers = [\n  {\n    customerNumber: 1,\n    customerName: \&quot;New Customer\&quot;,\n    contactLastName: \&quot;Doe\&quot;,\n    contactFirstName: \&quot;John\&quot;,\n    phone: \&quot;1234567890\&quot;,\n    addressLine1: \&quot;123 Main Street\&quot;,\n    addressLine2: null,\n    city: \&quot;New York\&quot;,\n    state: \&quot;NY\&quot;,\n    postalCode: \&quot;10001\&quot;,\n    country: \&quot;USA\&quot;,\n    salesRepEmployeeNumber: 1,\n    creditLimit: 1000,\n  },\n];\nconst findAllStub = sinon.stub(CustomerTest, &#x27;getAll&#x27;).resolves(customers);\nconst allCustomers = await CustomerTest.getAll();\nexpect(allCustomers).to.deep.equal(customers);\nfindAllStub.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d580247a-f6ef-4df5-a6b8-781b0ca8c44f&quot;,&quot;parentUUID&quot;:&quot;8ed28f53-64fb-476d-a01f-c4570159affb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d580247a-f6ef-4df5-a6b8-781b0ca8c44f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ce4209bc-c69f-4c09-8217-d60224f22722&quot;,&quot;title&quot;:&quot;getById&quot;,&quot;fullFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\test\\3_customer.test.js&quot;,&quot;file&quot;:&quot;\\test\\3_customer.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a customer by ID&quot;,&quot;fullTitle&quot;:&quot;Customer Test Model getById should return a customer by ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const customer = {\n  customerNumber: 1,\n  customerName: \&quot;New Customer\&quot;,\n  contactLastName: \&quot;Doe\&quot;,\n  contactFirstName: \&quot;John\&quot;,\n  phone: \&quot;1234567890\&quot;,\n  addressLine1: \&quot;123 Main Street\&quot;,\n  addressLine2: null,\n  city: \&quot;New York\&quot;,\n  state: \&quot;NY\&quot;,\n  postalCode: \&quot;10001\&quot;,\n  country: \&quot;USA\&quot;,\n  salesRepEmployeeNumber: 1,\n  creditLimit: 1000,\n};\nconst findByPkStub = sinon.stub(CustomerTest, &#x27;getById&#x27;).resolves(customer);\nconst foundCustomer = await CustomerTest.getById(customer.customerNumber);\nexpect(foundCustomer).to.deep.equal(customer);\nfindByPkStub.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;046a92ff-c4ef-4085-b7a0-cc701d3c2804&quot;,&quot;parentUUID&quot;:&quot;ce4209bc-c69f-4c09-8217-d60224f22722&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;046a92ff-c4ef-4085-b7a0-cc701d3c2804&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;50186ebc-fbd2-4e4d-9d15-e45633d6dca4&quot;,&quot;title&quot;:&quot;updateById&quot;,&quot;fullFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\test\\3_customer.test.js&quot;,&quot;file&quot;:&quot;\\test\\3_customer.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update a customer&quot;,&quot;fullTitle&quot;:&quot;Customer Test Model updateById should update a customer&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updatedCustomer = {\n  customerNumber: 1,\n  customerName: \&quot;Updated Customer\&quot;,\n  contactLastName: \&quot;Smith\&quot;,\n  contactFirstName: \&quot;Jane\&quot;,\n  phone: \&quot;0987654321\&quot;,\n  addressLine1: \&quot;456 Main Street\&quot;,\n  city: \&quot;New York\&quot;,\n  country: \&quot;USA\&quot;\n};\nconst saveStub = sinon.stub(CustomerTest, &#x27;updateById&#x27;).resolves(updatedCustomer);\nconst updated = await CustomerTest.updateById(updatedCustomer.customerNumber, updatedCustomer);\nexpect(updated).to.deep.equal(updatedCustomer);\nsaveStub.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8d2fdd83-da34-415d-880a-b9506787ae37&quot;,&quot;parentUUID&quot;:&quot;50186ebc-fbd2-4e4d-9d15-e45633d6dca4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8d2fdd83-da34-415d-880a-b9506787ae37&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;bdec2959-70b3-4a22-91da-2cb6e930946b&quot;,&quot;title&quot;:&quot;deleteById&quot;,&quot;fullFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\test\\3_customer.test.js&quot;,&quot;file&quot;:&quot;\\test\\3_customer.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete a customer&quot;,&quot;fullTitle&quot;:&quot;Customer Test Model deleteById should delete a customer&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const destroyStub = sinon.stub(CustomerTest, &#x27;deleteById&#x27;).resolves(true);\nconst result = await CustomerTest.deleteById(1);\nexpect(result).to.be.true;\ndestroyStub.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3573bbd0-870e-4502-b8ad-f92b3425ff5d&quot;,&quot;parentUUID&quot;:&quot;bdec2959-70b3-4a22-91da-2cb6e930946b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3573bbd0-870e-4502-b8ad-f92b3425ff5d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.2.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;NodeJs_Training&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report\\assets&quot;,&quot;jsonFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\mochawesome-report\\mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;D:\\FA\\Thang 05\\17-05\\2_Assignments\\NodeJs_Training\\mochawesome-report\\mochawesome.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>